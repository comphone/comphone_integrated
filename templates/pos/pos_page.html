{% extends "base.html" %}

{% block title %}ระบบขายหน้าร้าน (POS){% endblock %}

{% block styles %}
<style>
    .pos-container { display: flex; gap: 1rem; }
    .pos-main { flex: 3; }
    .pos-sidebar { flex: 2; background-color: #f8f9fa; padding: 1rem; border-radius: 0.5rem; }
    #search-results { max-height: 200px; overflow-y: auto; }
    #cart-items { list-style: none; padding: 0; }
    #cart-items li { display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; border-bottom: 1px solid #ddd; }
</style>
{% endblock %}


{% block content %}
<div class="container-fluid mt-4">
    <h1 class="mb-4">ระบบขายหน้าร้าน (Point of Sale)</h1>

    <div class="pos-container">
        <div class="pos-main">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">ค้นหาสินค้า</h5>
                    <div class="input-group mb-3">
                        <span class="input-group-text"><i class="fas fa-barcode"></i></span>
                        <input type="text" id="product-search" class="form-control" placeholder="ค้นหาด้วยชื่อ หรือ สแกนบาร์โค้ด...">
                    </div>
                    <div id="search-results" class="list-group"></div>
                </div>
            </div>
        </div>

        <div class="pos-sidebar">
            <h4><i class="fas fa-shopping-cart"></i> ตะกร้าสินค้า</h4>
            <hr>
            <ul id="cart-items">
                </ul>
            <hr>
            <div class="d-flex justify-content-between">
                <h5>ยอดรวม:</h5>
                <h5 id="cart-total">฿0.00</h5>
            </div>
            <div class="mt-3">
                <label for="payment-method" class="form-label">วิธีการชำระเงิน</label>
                <select id="payment-method" class="form-select">
                    <option value="cash">เงินสด</option>
                    <option value="credit_card">บัตรเครดิต</option>
                    <option value="qr_payment">โอน/QR</option>
                </select>
            </div>
            <div class="d-grid mt-3">
                <button id="process-sale-btn" class="btn btn-success btn-lg">
                    <i class="fas fa-check-circle"></i> ยืนยันการขาย
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/pos.js') }}"></script>
{% endblock %}