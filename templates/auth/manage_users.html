<!-- ============================================================================ -->
<!-- templates/auth/manage_users.html -->
<!-- ============================================================================ -->
{% extends "base.html" %}
{% block title %}จัดการผู้ใช้ - {{ business_name }}{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3">จัดการผู้ใช้</h1>
    <button class="btn btn-primary">
        <i class="fas fa-user-plus me-2"></i>เพิ่มผู้ใช้ใหม่
    </button>
</div>

<div class="card">
    <div class="card-body">
        {% if users %}
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>ชื่อผู้ใช้</th>
                        <th>ชื่อ-นามสกุล</th>
                        <th>อีเมล</th>
                        <th>บทบาท</th>
                        <th>สถานะ</th>
                        <th>การดำเนินการ</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                    <tr>
                        <td>{{ user.username }}</td>
                        <td>{{ user.full_name }}</td>
                        <td>{{ user.email }}</td>
                        <td>
                            <span class="badge bg-info">{{ user.role.value.title() }}</span>
                        </td>
                        <td>
                            <span class="badge {{ 'bg-success' if user.is_active else 'bg-secondary' }}">
                                {{ 'ใช้งาน' if user.is_active else 'ปิดใช้งาน' }}
                            </span>
                        </td>
                        <td>
                            <button class="btn btn-sm btn-outline-primary">แก้ไข</button>
                            <button class="btn btn-sm btn-outline-warning">{{ 'ปิดใช้งาน' if user.is_active else 'เปิดใช้งาน' }}</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% else %}
        <p class="text-muted text-center">ไม่มีผู้ใช้ในระบบ</p>
        {% endif %}
    </div>
</div>
{% endblock %}